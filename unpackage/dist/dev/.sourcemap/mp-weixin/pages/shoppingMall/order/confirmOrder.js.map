{"version":3,"sources":["uni-app:///main.js","webpack:///D:/uni/uni_phone/pages/shoppingMall/order/confirmOrder.vue?b331","webpack:///D:/uni/uni_phone/pages/shoppingMall/order/confirmOrder.vue?49a7","webpack:///D:/uni/uni_phone/pages/shoppingMall/order/confirmOrder.vue?3352","webpack:///D:/uni/uni_phone/pages/shoppingMall/order/confirmOrder.vue?78e2","uni-app:///pages/shoppingMall/order/confirmOrder.vue","webpack:///D:/uni/uni_phone/pages/shoppingMall/order/confirmOrder.vue?bb7c","webpack:///D:/uni/uni_phone/pages/shoppingMall/order/confirmOrder.vue?ebd7"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wH;AACAA,UAAU,CAACC,qBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAyH;AACzH;AACgE;AACL;AACc;;;AAGzE;AACyK;AACzK,gBAAgB,6KAAU;AAC1B,EAAE,kFAAM;AACR,EAAE,uFAAM;AACR,EAAE,gGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,2FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA,WAAW,0MAEN;AACL,GAAG;AACH;AACA,WAAW,oMAEN;AACL,GAAG;AACH;AACA,WAAW,oPAEN;AACL,GAAG;AACH;AACA,WAAW,kRAEN;AACL,GAAG;AACH;AACA,WAAW,4NAEN;AACL,GAAG;AACH;AACA,WAAW,8LAEN;AACL,GAAG;AACH;AACA,WAAW,oSAEN;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/FA;AAAA;AAAA;AAAA;AAAuoB,CAAgB,snBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACgM3pB;;;;AAIA;;;;;;AAMA,kF;;;AAGA;AACA,sBADA;AAEA,2BAFA;AAGA;AACA;AACA,kBAFA,EAHA;;AAOA,MAPA,kBAOA;AACA;AACA,8CADA;AAEA,8CAFA;AAGA,mBAHA;AAIA,qBAJA;AAKA,qBALA;AAMA,kBANA;AAOA,sBAPA;AAQA,+BARA;AASA;AACA,qBAVA;AAWA,mBAXA;AAYA,kBAZA;AAaA,yBAbA;AAcA,wBAdA;AAeA,uBAfA;AAgBA,4BAhBA;AAiBA,oBAjBA;AAkBA,kBAlBA;AAmBA,0BAnBA;AAoBA;AACA,kBArBA;AAsBA;AACA,gBAvBA;AAwBA;AACA,cAzBA;AA0BA,qBA1BA;AA2BA,kBA3BA;AA4BA,kBA5BA;AA6BA,qBA7BA;AA8BA,uBA9BA;AA+BA,mBA/BA;AAgCA,uBAhCA;AAiCA;AACA,kBAlCA;AAmCA;AACA,oBApCA;AAqCA,mBArCA;AAsCA,iBAtCA;AAuCA;AACA,kBAxCA;AAyCA,kBAzCA;AA0CA;AACA,uBA3CA;AA4CA,sBA5CA;AA6CA;AACA,qBA9CA;AA+CA;AACA,oBAhDA;AAiDA;AACA,kBAlDA;AAmDA;AACA,6BApDA;AAqDA,kBArDA;AAsDA,iBAtDA;AAuDA,0BAvDA;AAwDA,qBAxDA;;AA0DA,GAlEA;AAmEA,SAnEA,qBAmEA;AACA;AACA;AACA,yDAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AATA,uCAUA,mBAVA;AAWA,kBAXA,GAWA,oCAXA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAFA;AAGA;AACA;AACA,eAZA;;AAcA;AACA;AACA,8EA5BA;;AA8BA,2CA9BA;AA+BA,uCA/BA;;AAiCA,+BAjCA;;AAmCA,GAtGA;AAuGA;AACA,WADA,qBACA;AACA;AACA,kCAFA;;AAIA,yCAJA;AAKA;AACA,iCADA;AAEA,gCAFA,IALA;;AASA,0BATA;;AAWA,4BAXA,GAWA,8BAXA;AAYA;AACA,mBAbA,GAaA;AACA,qCADA;AAEA,8CAFA;AAGA,yDAHA;AAIA,uDAJA;AAKA,0DALA,EAbA;;AAoBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA,CACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6EAVA,CAUA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAHA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,mBAZA;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAPA;AAQA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA,GACA,EADA;;AAGA;AACA;AACA;AACA;AACA;AACA,mBALA,MAKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAJA,MAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA,sEArGA;;;;AAyGA;AACA,+BADA;AAEA,0BAFA;AAGA,4BAHA,CAzGA,CAuGA,GAvGA,kBAuGA,GAvGA,CAwGA,QAxGA,kBAwGA,QAxGA;;AA8GA,2CA9GA,CA8GA;AACA,kDA/GA,CA+GA;AACA,kDAhHA,CAgHA;AACA;AACA;AACA,0CADA;AAEA,4BAFA;;;AAKA;AACA,+EADA;;AAGA;AACA;AACA,iBA7HA;AA8HA,qBA9HA,CA8HA;AACA;AACA;AACA,iBAjIA,EA5BA;;AA+JA;AACA,kCAhKA;;AAkKA,KAnKA;AAoKA,mBApKA,6BAoKA;;AAEA,kCAFA;;;AAKA;AACA,uCADA;AAEA,gDAFA;;AAIA,kCAJA,CALA,yCAIA,IAJA,kBAIA,IAJA;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qEADA;AAEA;AACA;AACA,kCArBA;;AAuBA;AACA,kCAxBA;;AA0BA,KA9LA;AA+LA,aA/LA,uBA+LA,EA/LA;AAgMA,cAhMA,sBAgMA,GAhMA,EAgMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAhNA;AAiNA,eAjNA,yBAiNA;AACA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8CAlEA;AAmEA,4BAnEA,GAmEA,8BAnEA;AAoEA;AACA;AACA;AACA;AACA;AACA;AAzEA,oBA0EA,eA1EA;AA2EA,4CA3EA;;;;AA+EA,qBA/EA,GA+EA;AACA,gCADA;AAEA,6BAjFA;;AAmFA;AACA;AACA;AACA,kCAtFA;;;;AA0FA,gDA1FA,2CAyFA,IAzFA,mBAyFA,IAzFA;AA2FA;AACA;AACA,6DA7FA,CA6FA;;AAEA,qDA/FA,CA+FA;AACA;AACA;AACA;AACA,iEADA;AAEA;AACA,sDADA;AAEA,kDAFA;AAGA,oFAHA;AAIA,0CAJA;AAKA,uCALA;AAMA,yCANA,EAFA;;;AAWA,iBAbA,MAaA;AACA;AACA;AACA;AACA;AACA,mBAFA,CAEA;AACA;AACA;AACA;AACA;AACA,iBAvHA;;AAyHA;AACA;AACA,kCA3HA;;AA6HA,KAphBA,EAvGA,E;;;;AA+nBA;AACA,mBADA,CACA;AACA;AACA;AACA;AACA,mCADA,CACA;;AAEA;AACA;AACA,yCADA;AAEA,wBAHA;;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBADA,CACA;AACA,+CAFA,CAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iGAFA;AAGA;AACA;AACA;AACA,KARA;AASA,GAVA,MAUA;AACA;AACA;;AAEA;AACA,YADA;AAEA,sBAFA;;AAIA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;AC35BA;AAAA;AAAA;AAAA;AAA0qC,CAAgB,skCAAG,EAAC,C;;;;;;;;;;;ACA9rC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/shoppingMall/order/confirmOrder.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/shoppingMall/order/confirmOrder.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./confirmOrder.vue?vue&type=template&id=0b3c2879&\"\nvar renderjs\nimport script from \"./confirmOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./confirmOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./confirmOrder.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shoppingMall/order/confirmOrder.vue\"\nexport default component.exports","export * from \"-!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=template&id=0b3c2879&\"","var components = {\n  uniNavBar: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-nav-bar/uni-nav-bar\" */ \"@/components/uni-nav-bar/uni-nav-bar.vue\"\n    )\n  },\n  aNodeData: function() {\n    return import(\n      /* webpackChunkName: \"components/a-nodeData/a-nodeData\" */ \"@/components/a-nodeData/a-nodeData.vue\"\n    )\n  },\n  uniIcons: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n    )\n  },\n  aGoodLineBox: function() {\n    return import(\n      /* webpackChunkName: \"components/a-good-lineBox/a-good-lineBox\" */ \"@/components/a-good-lineBox/a-good-lineBox.vue\"\n    )\n  },\n  aBottomSubmit: function() {\n    return import(\n      /* webpackChunkName: \"components/a-bottomSubmit/a-bottomSubmit\" */ \"@/components/a-bottomSubmit/a-bottomSubmit.vue\"\n    )\n  },\n  uniPopup: function() {\n    return import(\n      /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n    )\n  },\n  aReceiveAddress: function() {\n    return import(\n      /* webpackChunkName: \"components/a-receive-address/a-receive-address\" */ \"@/components/a-receive-address/a-receive-address.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.currentDeliveryType.indexOf(\"2\")\n  var g1 = _vm.currentDeliveryType.indexOf(\"3\")\n  var g2 = _vm.currentDeliveryType.indexOf(\"2\")\n  var g3 = _vm.currentDeliveryType.indexOf(\"1\")\n  var g4 = JSON.stringify(_vm.currentArea)\n\n  var f0 = _vm._f(\"setSex\")(_vm.currentArea.Sex)\n\n  var g5 = _vm.prodList[0].DeliveryType.indexOf(\"3\")\n\n  var f1 = _vm._f(\"spliceNum\")(_vm.allData.ScoreTotal)\n\n  var f2 = _vm._f(\"spliceNum\")(_vm.totalCurrent)\n\n  var g6 = _vm.allData.hasOwnProperty(\"CardInfo\")\n  var m0 = Number(_vm.CardInfo.Balance)\n\n  var l0 = _vm.__map(_vm.areaList, function(item, index) {\n    var f3 = _vm._f(\"setSex\")(item.Sex)\n\n    return {\n      $orig: _vm.__get_orig(item),\n      f3: f3\n    }\n  })\n\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      return _vm.$refs.showAreaList.close()\n    }\n  }\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n        f0: f0,\n        g5: g5,\n        f1: f1,\n        f2: f2,\n        g6: g6,\n        m0: m0,\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=script&lang=js&\"","<template>\r\n\t<div class=\"confirm-order-style\" :class=\"mainStyle\">\r\n\t\t<uni-nav-bar :fixed=\"true\" left-icon=\"back\" @clickLeft=\"clickLeft\" title=\"确认订单\" :status-bar=\"true\" :shadow=\"false\"></uni-nav-bar>\r\n\t\t<a-nodeData stringVal=\"获取数据失败\" v-if=\"!loading&&prodList.length===0\"></a-nodeData>\r\n\t\t<div v-if=\"prodList.length>0\">\r\n\t\t\t<div class=\"indexTop colorStyle\" v-if=\"!$Route.query.isIntegral\">\r\n\t\t\t\t<div :class=\"['changeMode','changeModeLeft',radioModes === 2?'borderColor':'']\" @click=\"changeMode(2)\" v-if=\"currentDeliveryType.indexOf('2')>-1||currentDeliveryType.indexOf('3')>-1\">\r\n\t\t\t\t\t<span v-if=\"radioModes === 2\" class=\"iconfont icon-xuanzhong changeTopIcon\"></span>\r\n\t\t\t\t\t<image class=\"changeModeImg\" src=\"/static/assets/img/Pack.png\" />\r\n\t\t\t\t\t<!--                    2 外卖 ；3物流-->\r\n\t\t\t\t\t<span>{{currentDeliveryType.indexOf('2')>-1?'外卖配送':'物流配送'}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div :class=\"['changeMode','changeModeRight',radioModes === 1?'borderColor':'']\" @click=\"changeMode(1)\" v-if=\"currentDeliveryType.indexOf('1')>-1\">\r\n\t\t\t\t\t<span v-if=\"radioModes === 1\" class=\"iconfont icon-xuanzhong changeTopIcon\"></span>\r\n\t\t\t\t\t<image class=\"changeModeImg\" src=\"/static/assets/img/Eat.png\" />\r\n\t\t\t\t\t到店自取\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div @click=\"radioChange\" v-if=\"!$Route.query.isIntegral\">\r\n\t\t\t\t<div class=\"order-area\">\r\n\t\t\t\t\t<div class=\"order-area-icon\">\r\n\t\t\t\t\t\t<image src=\"/static/assets/img/weizhi.png\" alt />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-if=\"currentArea&&JSON.stringify(currentArea) !== '{}'\" style=\"flex: 1\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<span>{{currentArea.Name}}{{currentArea.Sex | setSex}}</span>\r\n\t\t\t\t\t\t\t<span class=\"order-area-phone\">{{currentArea.Mobile?currentArea.Mobile:currentArea.Tel}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"order-area-location\">{{currentArea.Address}}&nbsp;{{currentArea.House}}</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-else style=\"flex: 1;margin:auto;font-size:14px;color:#909090\">\r\n\t\t\t\t\t\t选择{{radioModes ===\r\n            2?'收货':'取货'}}地址\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"margin:auto 8px;color:#909090\">\r\n\t\t\t\t\t\t<uni-icons type=\"arrowright\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"good_card_box\">\r\n\t\t\t\t<div v-for=\"(item,index) in prodList\" :key=\"index\" style=\"margin-bottom:10px\">\r\n\t\t\t\t\t<a-good-lineBox :itemData=\"item\" :isOrder=\"true\" :isIntegral=\"$Route.query.isIntegral?true:false\"></a-good-lineBox>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<adCell text=\"门店自取\" showArrow=\"false\" v-if=\"$Route.query.isIntegral\" />\r\n\r\n\t\t\t<adCell @click=\"clickDataTime\" :text=\"radioModes === 1?'选择自取时间':'选择收货时间'\" showArrow=\"false\" v-if=\"prodList[0].DeliveryType&&!(prodList[0].DeliveryType.indexOf('3')>-1&&radioModes === 2)\">\r\n\t\t\t\t<view class=\"customView\">\r\n\t\t\t\t\t{{UserTime}}\r\n\t\t\t\t</view>\r\n\t\t\t</adCell>\r\n\r\n\t\t\t<adCell :text=\"UserDiscountName\" @click=\"clickUserDiscount\" v-if=\"DiscountList.length>0\">\r\n\t\t\t\t<view>{{UserDiscount}}</view>\r\n\t\t\t</adCell>\r\n\r\n\t\t\t<div class=\"setADcell\" v-if=\"radioModes === 1\">\r\n\t\t\t\t<adCell text=\"手机号码\" showArrow=\"false\">\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"请输入手机号码\" v-model=\"phone_user\">\r\n\t\t\t\t</adCell>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"setADcell\" v-if=\"radioModes === 1\">\r\n\t\t\t\t<adCell text=\"收件名字\" showArrow=\"false\">\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"请输入收件名字\" v-model=\"name_user\">\r\n\t\t\t\t</adCell>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"setADcell\">\r\n\t\t\t\t<adCell text=\"备注留言\" showArrow=\"false\" showBottomLine=\"false\">\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"请输入留言\" v-model=\"UserRemarks\">\r\n\t\t\t\t</adCell>\r\n\t\t\t</div>\r\n\r\n\t\t\t<adCell text=\"商品总价格\" showArrow=\"false\" showBottomLine=\"false\">\r\n\t\t\t\t<span>¥{{ProdTotal}}</span>\r\n\t\t\t</adCell>\r\n\t\t\t<adCell v-if=\"radioModes === 2\" text=\"运费\" showArrow=\"false\" showBottomLine=\"false\">\r\n\t\t\t\t<span>{{freight=='0'?'免运费':'¥'+freight}}</span>\r\n\t\t\t</adCell>\r\n\r\n\t\t\t<div class=\"total-style\">\r\n\t\t\t\t<span>\r\n\t\t\t\t\t小计：\r\n\t\t\t\t\t<span class=\"total-style__color\">\r\n\t\t\t\t\t\t<span v-if=\"allData.ScoreTotal\">{{allData.ScoreTotal|spliceNum}}积分</span>\r\n\t\t\t\t\t\t<span v-if=\"totalCurrent>0\">{{totalCurrent>0&&allData.ScoreTotal?'+':''}}¥{{totalCurrent |spliceNum}}</span>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"radio-group-play\">\r\n\t\t\t\t<div style=\"padding-bottom: 4px\" v-if=\"$Route.query.isIntegral&&allData.CardInfo\">当前卡积分：{{allData.CardInfo.Score}}</div>\r\n\t\t\t\t<radio-group @change=\"radioPayChange\">\r\n\t\t\t\t\t<div v-if=\"(allData.SalePriceTotal&&$Route.query.isIntegral)||!$Route.query.isIntegral\">\r\n\t\t\t\t\t\t<div v-if=\"allData.hasOwnProperty('CardInfo')\" class=\"radio-group-item\" @click=\"PayTypeClick('1')\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img class=\"wechat\" src=\"/static/assets/img/moneyPay.png\" slot=\"right-icon\" />\r\n\t\t\t\t\t\t\t\t<span class=\"custom-title\">卡支付（余额:{{CardInfo.Balance}}）</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div style=\"flex:1;text-align: right;\">\r\n\t\t\t\t\t\t\t\t<radio style=\"\" slot=\"right-icon\" value=\"1\" :checked=\"radioPayType == '1'\" v-if=\"Number(CardInfo.Balance)>totalCurrent\" />\r\n\t\t\t\t\t\t\t\t<span class=\"summaryNum\" style=\"color:#777\" v-else>余额不足</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div @click=\"PayTypeClick('2')\" class=\"radio-group-item\" v-if=\"$Route.query.isIntegral?allData.CardInfo?true:false:true\">\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<img class=\"wechat\" src=\"/static/assets/img/weixinPay.png\" />\r\n\t\t\t\t\t\t\t\t<span class=\"custom-title\">微信支付</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<radio style=\"flex:1;text-align: right;\" slot=\"right-icon\" value=\"2\" :checked=\"radioPayType == '2'\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</radio-group>\r\n\t\t\t</div>\r\n\t\t\t<a-bottomSubmit :isOrder=\"true\" :allMoney=\"totalCurrent\" :scoreTatal=\"totalCurrentScore\" :cardInfo=\"allData.CardInfo\"\r\n\t\t\t @submitMoney=\"submitMoney\" :isIntegral=\"$Route.query.isIntegral\"></a-bottomSubmit>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"changeAreaStyle\">\r\n\t\t\t<uni-popup ref=\"showAreaList\" v-model=\"showAreaList\" type=\"bottom\">\r\n\t\t\t\t<div class=\"confirm-order-popup\">\r\n\t\t\t\t\t<div class=\"top\">\r\n\t\t\t\t\t\t<span class=\"cancel\" @click=\"$refs.showAreaList.close()\">取消</span>\r\n\t\t\t\t\t\t<span>选择地址</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<radio-group class=\"bottom-area\" ref=\"checkboxAreaRef\" @change=\"changeGroup\">\r\n\t\t\t\t\t\t<div v-for=\"(item,index) in areaList\" :key=\"index\" class=\"bottom-area__box\" @click=\"changeArea(item,index)\">\r\n\t\t\t\t\t\t\t<radio :value=\"item.SID\" class=\"checkbox-my\" :checked=\"showAreaList == item.SID\"></radio>\r\n\t\t\t\t\t\t\t<div class=\"bottom-area__info\">\r\n\t\t\t\t\t\t\t\t<div>{{item.Address}}&nbsp;{{item.House}}</div>\r\n\t\t\t\t\t\t\t\t<div class=\"bottom-area__phone\">\r\n\t\t\t\t\t\t\t\t\t{{item.Name}}\r\n\t\t\t\t\t\t\t\t\t<span v-if=\"item.Sex\">{{item.Sex | setSex}}</span>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\t\t\t\t\t\t\t\t\t<span>{{item.Mobile?item.Mobile:item.Tel}}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<span v-if=\"radioModes===2\" class=\"icon iconfont icon-bianji bottom-area__icon\" @click.stop=\"clickEdit(item)\"></span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</radio-group>\r\n\t\t\t\t\t<div class=\"bottom-area__add\" v-if=\"radioModes===2\" @click=\"areaSet\">\r\n\t\t\t\t\t\t<uni-icons type=\"plus\" style=\"vertical-align: middle;font-size: 18px;margin-right: 6px\" class=\"colorStyle\" />\r\n\t\t\t\t\t\t<span style=\"vertical-align: middle\">新增收货地址</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</uni-popup>\r\n\t\t</div>\r\n\r\n\t\t<uni-popup ref=\"addEditArea\" v-model=\"addEditArea\" position=\"bottom\" class=\"confirm-area-popup\">\r\n\t\t\t<a-receive-address v-if=\"addEditArea\" @clickGo=\"clickGo\" :radioModes=\"radioModes\" :areaInfo=\"areaInfo\" @saveArea=\"saveAreaSet\"\r\n\t\t\t :currentDeliveryType=\"currentDeliveryType\"></a-receive-address>\r\n\t\t</uni-popup>\r\n\r\n\t\t<uni-popup ref=\"selectTime\" v-model=\"selectTime\" type=\"bottom\" style=\"max-height:50%\">\r\n\t\t\t<div class=\"confirm-selectTime-popup\">\r\n\t\t\t\t<div class=\"leftNavsidebar\">\r\n\t\t\t\t\t<view :class=\"['homepageLeftFixed']\" style=\"width:130px\">\r\n\t\t\t\t\t\t<view v-for=\"(item,index) in sidebarList\" :key=\"index\" :class=\"['homepageLeft',index===currentIndex?'activeCanteen':'']\"\r\n\t\t\t\t\t\t @click=\"changeSider(index)\">\r\n\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"rightTime\" v-if=\"rightTimeList.length>0\">\r\n\t\t\t\t<radio-group @change=\"radioTimeFun\">\r\n\t\t\t\t\t<div v-for=\"(item,index) in rightTimeList\" :key=\"index\" :border=\"false\">\r\n\t\t\t\t\t\t<ad-cell :text=\"item\" @click=\"rightTimeClick(item)\" showArrow=\"false\" showBottomLine=\"false\">\r\n\t\t\t\t\t\t\t<radio :value=\"item\" :checked=\"radioTime == item\"></radio>\r\n\t\t\t\t\t\t</ad-cell>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</radio-group>\r\n\t\t\t</div>\r\n\t\t</uni-popup>\r\n\t\t<uni-popup ref=\"discountProgram\" type=\"bottom\">\r\n\t\t\t<radio-group @change=\"setDiscountClick\">\r\n\t\t\t\t<ad-cell text=\"暂不使用\" @click=\"DiscountClick('undefined')\" showArrow=\"false\" >\r\n\t\t\t\t\t<radio style=\"display: inline-block;vertical-align: middle;margin-left:20px\" value=\"undefined\" \r\n\t\t\t\t\t :checked=\"'undefined' === radioDiscount\"/>\r\n\t\t\t\t</ad-cell>\r\n\t\t\t\t<div v-for=\"(item,index) in DiscountList\" :key=\"index\">\r\n\t\t\t\t\t<adCell :text=\"item.PrefName\" showArrow=\"false\" showBottomLine=\"false\" @click=\"DiscountClick(item)\">\r\n\t\t\t\t\t\t<span style=\"margin-right: 20px\">-¥{{item.DiscPrice || 0}}</span>\r\n\t\t\t\t\t\t<radio :value=\"item.PrefNo\"  :checked=\"item.PrefNo === radioDiscount\"/>\r\n\t\t\t\t\t</adCell>\r\n\t\t\t\t</div>\r\n\t\t\t</radio-group>\r\n\t\t</uni-popup>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tvipCard\r\n\t} from \"@/api/http.js\";\r\n\t// import receiveAddress from \"@/components/receiveAddress\";\r\n\timport {\r\n\t\tgetTime,\r\n\t\tcheckMobile,\r\n\t\tweChatPayment,\r\n\t\tsetUrlDelCode\r\n\t} from \"@/util/publicFunction\";\r\n\timport Mixins from \"../mixins.js\";\r\n\timport adCell from '@/node_modules/adcell/ADCell.vue';\r\n\r\n\texport default {\r\n\t\tname: \"confirmOrder\",\r\n\t\tmixins: [Mixins],\r\n\t\tcomponents: {\r\n\t\t\t// receiveAddress\r\n\t\t\tadCell\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmainStyle: getApp().globalData.mainStyle,\r\n\t\t\t\tmainColor: getApp().globalData.mainColor,\r\n\t\t\t\tloading: true,\r\n\t\t\t\tcurrentItem: [],\r\n\t\t\t\tUserRemarks: \"\",\r\n\t\t\t\tUserTime: \"\",\r\n\t\t\t\tUserDiscount: \"\",\r\n\t\t\t\tUserDiscountName: \"请选择方案\",\r\n\t\t\t\t// 当前选择的地址\r\n\t\t\t\tcurrentArea: {},\r\n\t\t\t\tradioModes: 2,\r\n\t\t\t\tprodList: [],\r\n\t\t\t\tshowAreaList: false,\r\n\t\t\t\taddEditArea: false,\r\n\t\t\t\tselectTime: false,\r\n\t\t\t\tdiscountProgram: false,\r\n\t\t\t\tresultArea: \"\",\r\n\t\t\t\tareaList: [],\r\n\t\t\t\tDeliveryAreaList: [],\r\n\t\t\t\t// 收货地址\r\n\t\t\t\ttakeOver: [],\r\n\t\t\t\t// 运费\r\n\t\t\t\tfreight: 0,\r\n\t\t\t\t// 总金额\r\n\t\t\t\ttotal: 0,\r\n\t\t\t\ttotalCurrent: 0,\r\n\t\t\t\tlocation: {},\r\n\t\t\t\tactiveKey: 0,\r\n\t\t\t\tsidebarList: [],\r\n\t\t\t\trightTimeList: [],\r\n\t\t\t\tradioTime: \"\",\r\n\t\t\t\tradioPayType: \"1\",\r\n\t\t\t\t// 卡信息\r\n\t\t\t\tCardInfo: {},\r\n\t\t\t\t// 自取时候用户电话\r\n\t\t\t\tphone_user: \"\",\r\n\t\t\t\tname_user: \"\",\r\n\t\t\t\torderId: \"\",\r\n\t\t\t\t// 购物车列表sid\r\n\t\t\t\tcardSids: [],\r\n\t\t\t\tProdTotal: 0,\r\n\t\t\t\t// 优惠方案id\r\n\t\t\t\tradioDiscount: \"\",\r\n\t\t\t\tDiscountList: [],\r\n\t\t\t\t// 整天的时间段\r\n\t\t\t\tallTimeSlot: [],\r\n\t\t\t\t// 记录时间段\r\n\t\t\t\tRecordTime: {},\r\n\t\t\t\t// 编辑的地址\r\n\t\t\t\tareaInfo: {},\r\n\t\t\t\t//当前的配送类型\r\n\t\t\t\tcurrentDeliveryType: \"\",\r\n\t\t\t\ttestData: {},\r\n\t\t\t\tallData: {},\r\n\t\t\t\ttotalCurrentScore: 0,\r\n\t\t\t\tcurrentIndex: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tif (\r\n\t\t\t\t!this.$store.state.currentCard ||\r\n\t\t\t\tthis.$store.state.currentCard.length === 0\r\n\t\t\t) {\r\n\t\t\t\tthis.$Router.back(2)\r\n\t\t\t\tthis.$Router.back(100)\r\n\t\t\t\t// window.history.go(-1);\r\n\t\t\t}\r\n\t\t\t// 获取授权地址\r\n\t\t\tawait this.getWxConfig();\r\n\t\t\tlet item = this.$store.state.currentCard || [];\r\n\t\t\titem.forEach(D => {\r\n\t\t\t\tif (D.SID) {\r\n\t\t\t\t\tthis.cardSids.push(D.SID);\r\n\t\t\t\t}\r\n\t\t\t\tif (D.PartsNo instanceof Array) {\r\n\t\t\t\t\tlet arr = [];\r\n\t\t\t\t\tlet newArr = JSON.parse(JSON.stringify(D.PartsNo));\r\n\t\t\t\t\tnewArr.forEach(data => {\r\n\t\t\t\t\t\tarr.push(data.ProdNo);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tD.PartsNo = arr.join(\",\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t// console.log(item, 7777);\r\n\t\t\tthis.currentItem = JSON.stringify(item);\r\n\t\t\tthis.cardSids = this.cardSids ? this.cardSids.join(\",\") : \"\";\r\n\r\n\t\t\tif (this.$Route.query.isIntegral) {\r\n\t\t\t\tawait this.getInfoIntegral();\r\n\t\t\t} else {\r\n\t\t\t\tawait this.getInfo();\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getInfo() {\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tuni.showLoading()\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!this.location.longitude) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t    title: '地址获取失败',\r\n\t\t\t\t\t\t    duration: 2000\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthrow \"地址获取失败\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet currentItems = JSON.parse(this.currentItem);\r\n\t\t\t\t\tthis.currentDeliveryType = currentItems[0].DeliveryType;\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tAction: \"SettlePay\",\r\n\t\t\t\t\t\tProdList: this.currentItem,\r\n\t\t\t\t\t\tDefLongitude: this.location.longitude,\r\n\t\t\t\t\t\tDefLatitude: this.location.latitude,\r\n\t\t\t\t\t\tDeliveryType: this.currentDeliveryType\r\n\t\t\t\t\t};\r\n\t\t\t\t\t// console.log(currentItems, \"currentItems[0]\");\r\n\r\n\t\t\t\t\tif (currentItems[0].hasOwnProperty(\"PromotionItemSID\")) {\r\n\t\t\t\t\t\t// 活动\r\n\t\t\t\t\t\tobj.PromotionItemSID = currentItems[0].PromotionItemSID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// console.log(obj, \"obj\");\r\n\t\t\t\t\t// return;\r\n\t\t\t\t\tPromise.all([this.saveArea(true), vipCard(obj, \"UProdOpera\")])\r\n\t\t\t\t\t\t.then(res => {\r\n\t\t\t\t\t\t\t// console.log(res, \"res\");\r\n\t\t\t\t\t\t\tthis.areaList = res[0];\r\n\t\t\t\t\t\t\tthis.takeOver = res[0];\r\n\t\t\t\t\t\t\tlet Data = res[1].Data;\r\n\r\n\t\t\t\t\t\t\tconsole.log(Data,77765655)\r\n\t\t\t\t\t\t\tthis.allData = Data;\r\n\t\t\t\t\t\t\tthis.prodList = Data.ProdList;\r\n\t\t\t\t\t\t\tthis.currentItem = JSON.parse(JSON.stringify(this.prodList));\r\n\t\t\t\t\t\t\tthis.currentDeliveryType = Data.ProdList[0].DeliveryType; //选择第一个商品的配送方式\r\n\r\n\t\t\t\t\t\t\tthis.currentItem.forEach(D => {\r\n\t\t\t\t\t\t\t\tif (typeof D.PartsNo !== \"string\") {\r\n\t\t\t\t\t\t\t\t\tD.PartsNo.forEach((data, index) => {\r\n\t\t\t\t\t\t\t\t\t\tD.arr = [];\r\n\t\t\t\t\t\t\t\t\t\tD.arr.push(data.ProdNo);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tD.PartsNo = D.arr ? D.arr.join(\",\") : \"\";\r\n\t\t\t\t\t\t\t\t\tdelete D.arr;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (D.PartsList) {\r\n\t\t\t\t\t\t\t\t\tD.PartsList = JSON.stringify(D.PartsList);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// console.log(this.currentItem,'this.currentItem')\r\n\t\t\t\t\t\t\tthis.currentItem = JSON.stringify(this.currentItem);\r\n\t\t\t\t\t\t\t//提前预约时间\r\n\t\t\t\t\t\t\tlet advanceTime = 0;\r\n\t\t\t\t\t\t\tif (this.prodList.length > 0) {\r\n\t\t\t\t\t\t\t\tthis.prodList.forEach((D, index) => {\r\n\t\t\t\t\t\t\t\t\tif (D.DeliveryType && D.DeliveryType !== \"\") {\r\n\t\t\t\t\t\t\t\t\t\tD.DeliveryType = D.DeliveryType.split(\",\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (D.FinHour > advanceTime) {\r\n\t\t\t\t\t\t\t\t\t\tadvanceTime = D.FinHour;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.freight = Data.Freight;\r\n\t\t\t\t\t\t\tthis.DiscountList = Data.DiscList || [];\r\n\t\t\t\t\t\t\t//     [\r\n\t\t\t\t\t\t\t// \t{DiscPrice: 20, PrefName: '方案q', PrefNo: 11},\r\n\t\t\t\t\t\t\t// \t{DiscPrice: 30, PrefName: '方案xx', PrefNo: 22}\r\n\t\t\t\t\t\t\t// ]\r\n\t\t\t\t\t\t\tif (this.DiscountList.length > 0) {\r\n\t\t\t\t\t\t\t\tthis.radioDiscount = this.DiscountList[0].PrefNo;\r\n\t\t\t\t\t\t\t\tthis.UserDiscount = \"¥\" + (this.DiscountList[0].DiscPrice || 0);\r\n\t\t\t\t\t\t\t\tthis.UserDiscountName = this.DiscountList[0].PrefName;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.total = Data.SumTotal;\r\n\t\t\t\t\t\t\tthis.ProdTotal = Data.ProdTotal;\r\n\t\t\t\t\t\t\tthis.totalCurrent = parseFloat(Number(Data.SumTotal).toFixed(2));\r\n\t\t\t\t\t\t\tthis.CardInfo = Data.hasOwnProperty(\"CardInfo\") ?\r\n\t\t\t\t\t\t\t\tData.CardInfo : {};\r\n\r\n\t\t\t\t\t\t\tif (JSON.stringify(this.CardInfo) !== \"{}\") {\r\n\t\t\t\t\t\t\t\tif (Number(Data.CardInfo.Balance) < Number(Data.SumTotal)) {\r\n\t\t\t\t\t\t\t\t\t//余额不足默认微信支付\r\n\t\t\t\t\t\t\t\t\tthis.radioPayType = \"2\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.radioPayType = \"2\";\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tthis.DeliveryAreaList = Data.ShopInfoList;\r\n\t\t\t\t\t\t\t// let DefaultsArea = _.find(this.areaList, {\r\n\t\t\t\t\t\t\t// \tDefaults: \"1\"\r\n\t\t\t\t\t\t\t// }); \r\n\t\t\t\t\t\t\t//是否有默认地址\r\n\t\t\t\t\t\t\tlet DefaultsArea = this.areaList.filter(D => D.Defaults === '1')[0]\r\n\r\n\t\t\t\t\t\t\tthis.currentArea = DefaultsArea ? DefaultsArea : {};\r\n\t\t\t\t\t\t\tthis.resultArea = DefaultsArea ? DefaultsArea.SID : \"\";\r\n\r\n\t\t\t\t\t\t\tlet num = Number(Data.ShopBase.ScopeDay);\r\n\r\n\t\t\t\t\t\t\tlet dayAdvance = 0;\r\n\t\t\t\t\t\t\tlet tAdvance = 0;\r\n\t\t\t\t\t\t\tif (Number(advanceTime) / 24 >= 1) {\r\n\t\t\t\t\t\t\t\t//   // 按天数提前\r\n\t\t\t\t\t\t\t\tdayAdvance = Number(advanceTime) / 24;\r\n\t\t\t\t\t\t\t\ttAdvance = 0;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//   // 提前的时间+当前的时间>下班时间\r\n\t\t\t\t\t\t\t\tlet endTime = countDown(Data.ShopBase.EndTime);\r\n\t\t\t\t\t\t\t\tlet cutTime = countDown(getTime(false, false, true));\r\n\t\t\t\t\t\t\t\tlet acTime = Number(advanceTime) * 60 * 60;\r\n\r\n\t\t\t\t\t\t\t\tif ((acTime + cutTime).toFixed(2) > endTime) {\r\n\t\t\t\t\t\t\t\t\t// 当提前预约时间大于下班时间后,重第二天0开始加预约时间\r\n\t\t\t\t\t\t\t\t\ttAdvance = Number(advanceTime);\r\n\t\t\t\t\t\t\t\t\tdayAdvance = dayAdvance + 1;\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\ttAdvance = Number(advanceTime);\r\n\t\t\t\t\t\t\t\t\tdayAdvance = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// setChangeData(num); //左侧的天数\r\n\t\t\t\t\t\t\tthis.sidebarList = setChangeData(num, dayAdvance);\r\n\t\t\t\t\t\t\tlet {\r\n\t\t\t\t\t\t\t\tarr,\r\n\t\t\t\t\t\t\t\tarrToday\r\n\t\t\t\t\t\t\t} = setChangeTime(\r\n\t\t\t\t\t\t\t\tData.ShopBase,\r\n\t\t\t\t\t\t\t\ttAdvance,\r\n\t\t\t\t\t\t\t\tdayAdvance\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tthis.allTimeSlot = arr; //总的右侧时间间隔\r\n\t\t\t\t\t\t\tthis.todayTimeSlot = arrToday; //今天的右侧时间间隔\r\n\t\t\t\t\t\t\tthis.rightTimeList = arrToday; //当前页面的右侧时间间隔\r\n\t\t\t\t\t\t\tthis.radioTime = arrToday[0];\r\n\t\t\t\t\t\t\tthis.RecordTime = {\r\n\t\t\t\t\t\t\t\tradioTime: arrToday[0],\r\n\t\t\t\t\t\t\t\tindex: 0\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\tthis.UserTime =\r\n\t\t\t\t\t\t\t\tthis.sidebarList[this.activeKey] + \" \" + this.radioTime;\r\n\r\n\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(e => {\r\n\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t});\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getInfoIntegral() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.showLoading()\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tData\r\n\t\t\t\t\t} = await vipCard({\r\n\t\t\t\t\t\t\tAction: \"SettlePay\",\r\n\t\t\t\t\t\t\tProdList: this.currentItem\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"UIntegralOpera\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\tthis.prodList = Data.ProdList;\r\n\t\t\t\t\tthis.allData = Data;\r\n\t\t\t\t\tthis.CardInfo = Data.CardInfo;\r\n\t\t\t\t\tthis.currentItem = JSON.parse(JSON.stringify(this.prodList));\r\n\t\t\t\t\tthis.totalCurrent = parseFloat(Number(Data.SalePriceTotal).toFixed(2));\r\n\t\t\t\t\tif (Data.ScoreTotal) {\r\n\t\t\t\t\t\tthis.totalCurrentScore =\r\n\t\t\t\t\t\t\tparseFloat(Number(Data.ScoreTotal).toFixed(2)) || 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\torderArea() {},\r\n\t\t\tchangeMode(val) {\r\n\t\t\t\tthis.radioModes = val;\r\n\t\t\t\tthis.areaList = val == 1 ? this.DeliveryAreaList : this.takeOver;\r\n\r\n\t\t\t\tthis.currentArea = {};\r\n\t\t\t\tif (val === 1) {\r\n\t\t\t\t\tthis.totalCurrent = this.total - this.freight;\r\n\t\t\t\t\t// this.currentArea = {};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.totalCurrent = this.total;\r\n\t\t\t\t\tif (this.takeOver.filter(D => D.Defaults === '1').length > 0) {\r\n\t\t\t\t\t\tthis.currentArea = this.takeOver.filter(D => D.Defaults === '1')[0]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.resultArea = this.currentArea.SID;\r\n\t\t\t\t}\r\n\t\t\t\tthis.totalCurrent = parseFloat(Number(this.totalCurrent).toFixed(2));\r\n\t\t\t},\r\n\t\t\tradioChange() {\r\n\t\t\t\tthis.showAreaList = true;\r\n\t\t\t\tthis.$refs.showAreaList.open()\r\n\t\t\t},\r\n\t\t\tradioPayChange(val) {\r\n\t\t\t\tif (this.CardInfo && Number(this.CardInfo.Balance) < this.totalCurrent) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.radioPayType = val.detail.value\r\n\t\t\t},\r\n\t\t\tchangeGroup(val) {\r\n\t\t\t\tthis.resultArea = val.detail.value\r\n\t\t\t},\r\n\t\t\tasync changeArea(val, index) {\r\n\t\t\t\tthis.showAreaList = val.SID\r\n\t\t\t\tlet api;\r\n\t\t\t\tif (this.radioModes === 1) {\r\n\t\t\t\t\tapi = \"IsPickShop\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (this.currentDeliveryType.indexOf(\"2\") > -1) {\r\n\t\t\t\t\t\t//外卖\r\n\t\t\t\t\t\tapi = \"CalcFreight\";\r\n\t\t\t\t\t} else if (this.currentDeliveryType.indexOf(\"3\") > -1) {\r\n\t\t\t\t\t\t//物流\r\n\t\t\t\t\t\tapi = \"CalcLogistics\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\tuni.showLoading()\r\n\t\t\t\t\tlet currentItems = JSON.parse(this.currentItem);\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tAction: api,\r\n\t\t\t\t\t\tProdList: this.currentItem,\r\n\t\t\t\t\t\tLatitude: val.Latitude || \"\",\r\n\t\t\t\t\t\tLongitude: val.Longitude || \"\",\r\n\t\t\t\t\t\tProvince: val.Province || \"\",\r\n\t\t\t\t\t\tPayType: this.radioPayType,\r\n\t\t\t\t\t\tPrefNo: this.radioDiscount === \"undefined\" ? \"\" : this.radioDiscount,\r\n\t\t\t\t\t\tShopSID: val.SID\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (currentItems[0].hasOwnProperty(\"PromotionItemSID\")) {\r\n\t\t\t\t\t\t// 活动\r\n\t\t\t\t\t\tobj.PromotionItemSID = currentItems[0].PromotionItemSID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tData\r\n\t\t\t\t\t} = await vipCard(obj, \"UProdOpera\");\r\n\t\t\t\t\tthis.currentArea = val;\r\n\t\t\t\t\tthis.showAreaList = false;\r\n\t\t\t\t\tthis.$refs.showAreaList.close()\r\n\t\t\t\t\tthis.resultArea = val.SID;\r\n\t\t\t\t\tthis.areaList.splice(index, 1);\r\n\t\t\t\t\tthis.areaList.unshift(val);\r\n\t\t\t\t\t//改变位置，重新算运费和总价\r\n\t\t\t\t\tthis.freight = Data.Freight;\r\n\t\t\t\t\tthis.totalCurrent = parseFloat(Number(Data.SumTotal).toFixed(2));\r\n\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclickEdit(val) {\r\n\t\t\t\tthis.areaInfo = val;\r\n\t\t\t\tthis.$refs.addEditArea.open()\r\n\t\t\t\tthis.addEditArea = true;\r\n\t\t\t},\r\n\t\t\tclickGo() {\r\n\t\t\t\tthis.$refs.addEditArea.close()\r\n\t\t\t\tthis.addEditArea = false;\r\n\t\t\t},\r\n\t\t\tclickLeft() {\r\n\t\t\t\tthis.$Router.push(this.$store.state.historyUrl)\r\n\t\t\t},\r\n\t\t\tclickDataTime() {\r\n\t\t\t\tthis.selectTime = true;\r\n\t\t\t\tthis.$refs.selectTime.open()\r\n\t\t\t},\r\n\t\t\tclickUserDiscount() {\r\n\t\t\t\tthis.discountProgram = true;\r\n\t\t\t\tthis.$refs.discountProgram.open()\r\n\t\t\t},\r\n\t\t\tclickTime() {},\r\n\t\t\tasync saveAreaSet() {\r\n\t\t\t\tthis.$refs.addEditArea.close()\r\n\t\t\t\tthis.addEditArea = false;\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tuni.showLoading()\r\n\t\t\t\tlet listArea = await this.saveArea(false);\r\n\t\t\t\tthis.areaList = listArea;\r\n\t\t\t\tthis.takeOver = listArea;\r\n\t\t\t\tthis.loading = false;\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t},\r\n\t\t\tasync saveArea(bool) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet type;\r\n\t\t\t\t\tif (this.currentDeliveryType.indexOf(\"2\") > -1) {\r\n\t\t\t\t\t\ttype = 1;\r\n\t\t\t\t\t} else if (this.currentDeliveryType.indexOf(\"3\") > -1) {\r\n\t\t\t\t\t\ttype = 2;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tData\r\n\t\t\t\t\t} = await vipCard({\r\n\t\t\t\t\t\t\tAction: \"GetAddressList\",\r\n\t\t\t\t\t\t\tType: type\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"UMemberOpera\"\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif(bool){\r\n\t\t\t\t\t\tuni.showLoading()\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn Data.AddressList;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treturn [];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tPayTypeClick(item) {\r\n\t\t\t\tif (this.CardInfo && Number(this.CardInfo.Balance) < this.totalCurrent) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.radioPayType = item;\r\n\t\t\t},\r\n\t\t\tchangeSider(index) {\r\n\t\t\t\tthis.currentIndex = index\r\n\t\t\t\tthis.activeKey = index\r\n\t\t\t\tif (this.RecordTime.index === index) {\r\n\t\t\t\t\tthis.radioTime = this.RecordTime.radioTime;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.radioTime = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tif (index !== 0) {\r\n\t\t\t\t\tthis.rightTimeList = this.allTimeSlot;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.rightTimeList = this.todayTimeSlot;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trightTimeClick(item) {\r\n\t\t\t\tthis.RecordTime = {\r\n\t\t\t\t\tradioTime: item,\r\n\t\t\t\t\tindex: this.activeKey\r\n\t\t\t\t};\r\n\t\t\t\tthis.radioTime = item;\r\n\t\t\t\tthis.selectTime = false;\r\n\t\t\t\tthis.$refs.selectTime.close()\r\n\t\t\t\tthis.UserTime = this.sidebarList[this.activeKey] + \" \" + this.radioTime;\r\n\t\t\t},\r\n\t\t\tradioTimeFun(val) {\r\n\t\t\t\tthis.radioTime = val.detail.value\r\n\t\t\t},\r\n\t\t\tsetDiscountClick(val){\r\n\t\t\t\tthis.radioDiscount = val.detail.value\r\n\t\t\t},\r\n\t\t\tasync DiscountClick(item) {\r\n\t\t\t\tlet PrefNo = item.PrefNo;\r\n\t\t\t\tif (item === \"undefined\") {\r\n\t\t\t\t\tPrefNo = \"\";\r\n\t\t\t\t}\r\n\t\t\t\tthis.discountProgram = false;\r\n\t\t\t\tthis.$refs.discountProgram.close()\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet obj = {\r\n\t\t\t\t\t\tAction: \"SelectDisc\",\r\n\t\t\t\t\t\tPrefNo: PrefNo,\r\n\t\t\t\t\t\tProdList: this.currentItem,\r\n\t\t\t\t\t\tPayType: this.radioPayType,\r\n\t\t\t\t\t\tLatitude: this.currentArea.Latitude,\r\n\t\t\t\t\t\tLongitude: this.currentArea.Longitude\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\tuni.showLoading();\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tData\r\n\t\t\t\t\t} = await vipCard(obj, \"UProdOpera\");\r\n\t\t\t\t\tthis.UserDiscountName =\r\n\t\t\t\t\t\titem === \"undefined\" ? \"优惠券方案\" : item.PrefName;\r\n\t\t\t\t\tthis.UserDiscount =\r\n\t\t\t\t\t\titem === \"undefined\" ? \"暂不使用\" : \"¥\" + item.DiscPrice;\r\n\t\t\t\t\tthis.radioDiscount = item === \"undefined\" ? item : item.PrefNo;\r\n\t\t\t\t\tthis.totalCurrent = parseFloat(Number(Data.Total?Data.Total:Data.SumTotal).toFixed(2));\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tareaSet() {\r\n\t\t\t\tthis.areaInfo = {};\r\n\t\t\t\tthis.addEditArea = true;\r\n\t\t\t\tthis.$refs.addEditArea.open()\r\n\t\t\t},\r\n\t\t\tasync submitMoney() {\r\n\t\t\t\t// 结算\r\n\t\t\t\tif (JSON.stringify(this.currentArea) === \"{}\" && !this.$Route.query.isIntegral) {\r\n\t\t\t\t\tthis.$toast(\"请选择地址\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.radioModes === 1) {\r\n\t\t\t\t\tif (!this.phone_user || this.phone_user === \"\") {\r\n\t\t\t\t\t\tthis.$toast(\"请填写手机号码\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (!checkMobile(this.phone_user)) {\r\n\t\t\t\t\t\t\tthis.$toast(\"手机号格式错误\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!this.name_user || this.name_user === \"\") {\r\n\t\t\t\t\t\tthis.$toast(\"请填写收件名字\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.radioDiscount === \"undefined\") {\r\n\t\t\t\t\tthis.radioDiscount = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet DeliveryType = this.radioModes; //2、1       //获取当前配送方式\r\n\t\t\t\tif (this.radioModes === 2) {\r\n\t\t\t\t\tif (this.currentDeliveryType.indexOf(\"2\") > -1) {\r\n\t\t\t\t\t\tDeliveryType = 2;\r\n\t\t\t\t\t} else if (this.currentDeliveryType.indexOf(\"3\") > -1) {\r\n\t\t\t\t\t\tDeliveryType = 3;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tDeliveryType = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (typeof this.currentItem !== \"string\") {\r\n\t\t\t\t\tthis.currentItem = JSON.stringify(this.currentItem);\r\n\t\t\t\t}\r\n\t\t\t\tlet obj = {\r\n\t\t\t\t\tAction: \"OrderPay\",\r\n\t\t\t\t\tDeliveryType: DeliveryType,\r\n\t\t\t\t\tUserName: this.radioModes === 2 ? this.currentArea.Name : this.name_user,\r\n\t\t\t\t\tMobile: this.radioModes === 1 ? this.phone_user : this.currentArea.Mobile,\r\n\t\t\t\t\tAddress: this.radioModes === 2 ?\r\n\t\t\t\t\t\tthis.currentArea.Address + \"  \" + this.currentArea.House : \"\",\r\n\t\t\t\t\tProdList: this.currentItem,\r\n\t\t\t\t\tLatitude: this.currentArea.Latitude || \"\",\r\n\t\t\t\t\tLongitude: this.currentArea.Longitude || \"\",\r\n\t\t\t\t\tProvince: this.currentArea.Province || \"\",\r\n\t\t\t\t\tAddressSID: this.radioModes === 2 ? this.resultArea.SID : \"\",\r\n\t\t\t\t\tShopSID: this.radioModes === 1 ? this.resultArea : \"\",\r\n\t\t\t\t\tUserRemarks: this.UserRemarks,\r\n\t\t\t\t\tPayType: this.radioPayType,\r\n\t\t\t\t\tPickDate: this.sidebarList[this.RecordTime.index],\r\n\t\t\t\t\tPickTime: this.RecordTime.radioTime,\r\n\t\t\t\t\tCartSID: this.cardSids,\r\n\t\t\t\t\tPrefNo: this.radioDiscount\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (JSON.parse(this.currentItem)[0].hasOwnProperty(\"PromotionItemSID\")) {\r\n\t\t\t\t\t// 活动\r\n\t\t\t\t\tobj.PromotionItemSID = JSON.parse(this.currentItem)[0].PromotionItemSID;\r\n\t\t\t\t}\r\n\t\t\t\tif (this.$Route.query.isIntegral) {\r\n\t\t\t\t\tlet currentItems = JSON.parse(this.currentItem);\r\n\t\t\t\t\tobj = currentItems[0];\r\n\t\t\t\t\tobj.Action = \"OrderPay\";\r\n\t\t\t\t\tobj.PayType = this.radioPayType;\r\n\t\t\t\t\tobj.UserRemarks = this.UserRemarks;\r\n\t\t\t\t\tobj.DeliveryType = 1;\r\n\t\t\t\t\t//积分\r\n\t\t\t\t\tif (!this.CardInfo) {\r\n\t\t\t\t\t\tthis.$toast.fail(\"未绑定微卡\");\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet Opera = this.$Route.query.isIntegral ?\r\n\t\t\t\t\t\"UIntOrderOpera\" :\r\n\t\t\t\t\t\"UOrderOpera\";\r\n\r\n\t\t\t\t// console.log(JSON.stringify(obj), \"objobj\");\r\n\t\t\t\t// return;\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tData\r\n\t\t\t\t\t} = await vipCard(obj, Opera);\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tthis.$store.commit(\"SET_CURRENT_CARD\", []); //清掉购物车\r\n\r\n\t\t\t\t\tuni.removeStorageSync(\"alreadyPaid\"); //清点之前标记的已经下单的字段\r\n\t\t\t\t\tif (this.radioPayType === \"1\") {\r\n\t\t\t\t\t\t//微卡支付\r\n\t\t\t\t\t\tthis.$Router.push({\r\n\t\t\t\t\t\t\tpath: \"/pages/shoppingMall/order/confirmCard\",\r\n\t\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\t\tBalance: this.CardInfo.Balance,\r\n\t\t\t\t\t\t\t\tScore: this.CardInfo.Score,\r\n\t\t\t\t\t\t\t\tPayScore: Data.hasOwnProperty(\"PayScore\") ? Data.PayScore : \"\",\r\n\t\t\t\t\t\t\t\ttotal: Data.SumTotal,\r\n\t\t\t\t\t\t\t\tPayNo: Data.PayNo,\r\n\t\t\t\t\t\t\t\tIsPass: Data.IsPass\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 微信支付\r\n\t\t\t\t\t\tthis.testData = Data;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tweChatPayment(this, Data, false);\r\n\t\t\t\t\t\t} catch (e) {\r\n\t\t\t\t\t\t\tthat.$toast.fail(\"微信调起失败\");\r\n\t\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t// that.$toast.fail(\"微信调起失败\");\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tfunction setChangeData(num, aceTime) {\r\n\t\tlet arrData = []; //日期\r\n\t\tlet toDay = \"\";\r\n\t\tnum = Number(num);\r\n\t\tfor (let i = 0; i < num; i++) {\r\n\t\t\tlet dayM = 24 * 60 * 60 * 1000; //一天的时间戳\r\n\r\n\t\t\tlet date =\r\n\t\t\t\taceTime > 1 ?\r\n\t\t\t\tnew Date().getTime() + aceTime * dayM :\r\n\t\t\t\tnew Date().getTime();\r\n\r\n\t\t\ttoDay = i * dayM + date;\r\n\t\t\tarrData.push(getTime(toDay, true));\r\n\t\t}\r\n\t\treturn arrData;\r\n\t}\r\n\r\n\tfunction setChangeTime(ShopBase, aceTime, dayAdvance) {\r\n\t\tlet dayM = 60 * 60; //秒值\r\n\t\tlet a = 60 * Number(ShopBase.IntervalMinute); //求秒值\r\n\t\tlet endTime = countDown(ShopBase.EndTime);\r\n\r\n\t\tlet startTime = Number(countDown(ShopBase.StartTime));\r\n\t\tlet arr = [];\r\n\t\tlet arrToday = [];\r\n\t\twhile (startTime <= endTime) {\r\n\t\t\tarr.push(changeCountDown(startTime));\r\n\t\t\tstartTime += a;\r\n\t\t}\r\n\t\tif (dayAdvance == 0) {\r\n\t\t\tarr.forEach(DATA => {\r\n\t\t\t\tDATA = countDown(DATA);\r\n\t\t\t\tif (\r\n\t\t\t\t\tdayAdvance == 0 &&\r\n\t\t\t\t\tDATA > countDown(getTime(false, false, true)) + Number(aceTime) * dayM\r\n\t\t\t\t) {\r\n\t\t\t\t\tarrToday.push(changeCountDown(DATA));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tarrToday = arr;\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tarr,\r\n\t\t\tarrToday\r\n\t\t};\r\n\t}\r\n\r\n\tfunction countDown(time) {\r\n\t\t//20:08:90转换为秒\r\n\t\tvar s = 0;\r\n\t\tvar hour = time.split(\":\")[0];\r\n\t\tvar min = time.split(\":\")[1];\r\n\t\tvar sec = time.split(\":\")[2];\r\n\t\ts = Number(hour * 3600) + Number(min * 60) + Number(sec);\r\n\t\treturn s;\r\n\t}\r\n\r\n\tfunction changeCountDown(value) {\r\n\t\t//秒转换为 20:08:90\r\n\t\tvar theTime = parseInt(value);\r\n\t\tvar middle = 0;\r\n\t\tvar hour = 0;\r\n\t\tvar result = \"\";\r\n\t\tif (theTime > 60) {\r\n\t\t\tmiddle = parseInt(theTime / 60);\r\n\t\t\ttheTime = parseInt(theTime % 60);\r\n\t\t\tif (middle > 60) {\r\n\t\t\t\thour = parseInt(middle / 60);\r\n\t\t\t\tmiddle = parseInt(middle % 60);\r\n\t\t\t}\r\n\t\t}\r\n\t\thour = hour < 10 ? \"0\" + hour : hour;\r\n\t\tmiddle = middle < 10 ? \"0\" + middle : middle;\r\n\t\ttheTime = theTime < 10 ? \"0\" + theTime : theTime;\r\n\t\tresult = hour + \":\" + middle + \":\" + theTime;\r\n\t\treturn result;\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t@import \"../../../assets/css/radioModes\";\r\n\r\n\t.confirm-order-style {\r\n\t\tmargin-bottom: 80px;\r\n\r\n\t\t.uni-popup {\r\n\t\t\tz-index: 999\r\n\t\t}\r\n\r\n\t\t.setADcell {\r\n\t\t\t/deep/.detailView1 {\r\n\t\t\t\tflex: none;\r\n\t\t\t}\r\n\r\n\t\t\t/deep/.headView {\r\n\t\t\t\tflex: none;\r\n\t\t\t\twidth: 90px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.radio-group-play {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 26rpx 24rpx;\r\n\r\n\t\t\t.radio-group-item {\r\n\t\t\t\tpadding: 6px 0;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t}\r\n\r\n\t\t\t.custom-title {\r\n\t\t\t\tvertical-align: middle;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.total-style {\r\n\t\t\tbackground: #fff;\r\n\t\t\ttext-align: right;\r\n\t\t\tline-height: 40px;\r\n\t\t\tfont-size: 16px;\r\n\t\t\tpadding-right: 10px;\r\n\t\t\tborder-bottom: 1rpx solid #ebedf0;\r\n\r\n\t\t\t&__color {\r\n\t\t\t\tcolor: red;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order-area {\r\n\t\t\tbackground: #ffffff;\r\n\t\t\tpadding: 14px 6px;\r\n\t\t\tdisplay: flex;\r\n\t\t}\r\n\r\n\t\t.order-area-icon {\r\n\t\t\tmargin: auto;\r\n\r\n\t\t\timg,\r\n\t\t\timage {\r\n\t\t\t\tmargin: 0 10px;\r\n\t\t\t\twidth: 40px;\r\n\t\t\t\theight: 40px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order-area-phone {\r\n\t\t\tfont-size: 14px;\r\n\t\t\tcolor: #909090;\r\n\t\t\tmargin-left: 8px;\r\n\t\t}\r\n\r\n\t\t.order-area-location {\r\n\t\t\tfont-size: 12px;\r\n\t\t\tmargin-top: 3px;\r\n\t\t}\r\n\r\n\t\t.good_card_box {\r\n\t\t\tbackground: #ffffff;\r\n\t\t\tmargin: 5px 0 5px;\r\n\t\t\tpadding: 10px;\r\n\r\n\t\t\t.boxShadow {\r\n\t\t\t\tbox-shadow: none;\r\n\t\t\t}\r\n\r\n\t\t\t.rightBox {\r\n\t\t\t\tmargin: 0 10px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// .goodsBox-parts {\r\n\t\t/*margin-left: 10px !important;*/\r\n\t\t// }\r\n\r\n\t\t.confirm-order-popup {\r\n\t\t\tbackground-color: #fff;\r\n\t\t\tmax-height: 50%;\r\n\r\n\t\t\t.top {\r\n\t\t\t\tpadding: 10px 20px 10px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tborder-bottom: 1px solid #eee;\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\r\n\t\t\t.cancel {\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tleft: 20px;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\tcolor: #777;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.bottom-area {\r\n\t\t\tmax-height: 60vh;\r\n\t\t\toverflow: scroll;\r\n\r\n\t\t\t&__box {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tpadding: 8px 12px;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\t&__info {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t}\r\n\r\n\t\t\t&__icon {\r\n\t\t\t\twidth: 30px;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t}\r\n\r\n\t\t\t&__phone {\r\n\t\t\t\tcolor: #969799;\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t\tmargin-top: 5px;\r\n\t\t\t}\r\n\r\n\t\t\t&__add {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: 10px;\r\n\t\t\t\tborder-top: 1px solid #eee;\r\n\t\t\t}\r\n\r\n\t\t\t.checkbox-my {\r\n\t\t\t\tmargin-right: 10px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.confirm-area-popup {\r\n\t\t\theight: 100%;\r\n\r\n\t\t\t/deep/.uni-popup__wrapper-box {\r\n\t\t\t\theight: 100%;\r\n\t\t\t\tbackground: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.confirm-selectTime-popup {\r\n\t\t\t// height: 50vh;\r\n\r\n\t\t\t.leftNavsidebar {\r\n\t\t\t\twidth: 130px;\r\n\t\t\t\tdisplay: fixed;\r\n\t\t\t\tposition: fixed;\r\n\t\t\t\ttop: 0;\r\n\t\t\t\toverflow-y: scroll;\r\n\t\t\t\tbackground: #f8f8f8;\r\n\t\t\t\theight: 100vh;\r\n\t\t\t}\r\n\r\n\t\t\t.leftNavsidebar {\r\n\t\t\t\t.activeCanteen {\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.homepageLeft {\r\n\t\t\t\t\tline-height: 60px;\r\n\t\t\t\t\tpadding-left: 6px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\r\n\t\t.rightTime {\r\n\t\t\theight: 50vh;\r\n\t\t\tpadding: 8px;\r\n\t\t\tbox-sizing: border-box;\r\n\t\t\tmargin-left: 130px;\r\n\t\t\tbackground: #fff;\r\n\t\t\toverflow-y: scroll;\r\n\t\t}\r\n\r\n\t\t.wechat {\r\n\t\t\twidth: 18px;\r\n\t\t\theight: 18px;\r\n\t\t\tmargin-right: 8px;\r\n\t\t\tdisplay: inline-block;\r\n\t\t\tfont-size: 18px;\r\n\t\t\tvertical-align: middle;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-2!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--10-oneOf-1-5!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../下载/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./confirmOrder.vue?vue&type=style&index=0&lang=less&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1597628399160\n      var cssReload = require(\"D:/下载/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}